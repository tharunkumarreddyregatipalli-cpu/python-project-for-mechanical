class Solution:
	def numPrimeArrangements(self, n: int) -> int:
		MOD = 10**9 + 7
		def count_primes(limit):
			if limit < 2:
				return 0
			is_prime = [True] * (limit + 1)
			is_prime[0] = is_prime[1] = False
			for i in range(2, int(limit**0.5) + 1):
				if is_prime[i]:
					for j in range(i*i, limit + 1, i):
						is_prime[j] = False
			return sum(is_prime)
		def factorial_mod(k):
			result = 1
			for i in range(2, k + 1):
				result = (result * i) % MOD
			return result
		prime_count = count_primes(n)
		non_prime_count = n - prime_count
		return (factorial_mod(prime_count) * factorial_mod(non_prime_count)) % MOD
